import{a as A,b as k}from"./chunk-BJFUS6Y3.js";import{$ as I,A as x,E as C,H as s,J as n,K as t,L as b,M as _,N as v,O as l,P as a,Q as p,R as y,T as S,Z as h,_ as E,aa as w,fa as M,ga as N,p as u,q as g,x as r,z as c}from"./chunk-JFKARHUD.js";var O=(o,i)=>({"badge-success":o,"badge-error":i});function T(o,i){o&1&&(n(0,"div",6),b(1,"span",7),t())}function V(o,i){if(o&1){let e=_();n(0,"tr")(1,"td"),a(2),t(),n(3,"td"),a(4),t(),n(5,"td"),a(6),t(),n(7,"td")(8,"span",13),a(9),t()(),n(10,"td",11)(11,"div",14)(12,"button",15),v("click",function(){let d=u(e).$implicit,f=l(2);return g(f.onEdit(d))}),a(13," Editar "),t(),n(14,"button",16),v("click",function(){let d=u(e).$implicit,f=l(2);return g(f.onDelete(d.id))}),a(15," Eliminar "),t()()()()}if(o&2){let e=i.$implicit;r(2),p(e.rnc||"Sdsd"),r(2),y("",e.name," X"),r(2),p(e.commercialName),r(2),s("ngClass",S(5,O,e.status==="ACTIVO",e.status==="INACTIVO")),r(),p(e.status)}}function j(o,i){if(o&1&&(n(0,"div",8)(1,"table",9)(2,"thead",10)(3,"tr")(4,"th"),a(5,"RNC"),t(),n(6,"th"),a(7,"Nombre"),t(),n(8,"th"),a(9,"Nombre Comercial"),t(),n(10,"th"),a(11,"Estado"),t(),n(12,"th",11),a(13,"Acciones"),t()()(),n(14,"tbody"),C(15,V,16,8,"tr",12),t()()()),o&2){let e=l();r(15),s("ngForOf",e.companies)}}var L=class o{constructor(i,e,m){this.companyService=i;this.sweetAlert=e;this.router=m}companies=[];isLoading;ngOnInit(){this.getCompanies()}getCompanies(){this.isLoading=!0,this.companyService.getCompanies().subscribe(i=>{this.companies=i,this.isLoading=!1})}onDelete(i){this.sweetAlert.confirmDelete().then(e=>{e.isConfirmed&&this.companyService.deleteCompany(i).subscribe(()=>{this.sweetAlert.success("Compa\xF1\xEDa eliminada con \xE9xito").then(()=>{this.getCompanies()})})})}onEdit(i){this.router.navigate(["/create"],{state:{company:i}})}static \u0275fac=function(e){return new(e||o)(c(A),c(k),c(M))};static \u0275cmp=x({type:o,selectors:[["app-manage-company"]],decls:8,vars:2,consts:[[1,"card","bg-base-100","shadow-xl","p-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"card-title"],["routerLink","/",1,"btn","btn-sm","btn-neutral"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"loading","loading-spinner","loading-xl"],[1,"overflow-x-auto"],[1,"table","table-zebra","w-full"],[1,"text-base-content"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"badge",3,"ngClass"],[1,"flex","gap-2","justify-center"],[1,"btn","btn-sm","btn-warning","btn-outline",3,"click"],[1,"btn","btn-sm","btn-error","btn-outline",3,"click"]],template:function(e,m){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Lista de Empresas"),t(),n(4,"a",3),a(5," Volver al Inicio "),t()(),C(6,T,2,0,"div",4)(7,j,16,1,"div",5),t()),e&2&&(r(6),s("ngIf",m.isLoading),r(),s("ngIf",!m.isLoading))},dependencies:[N,w,h,E,I],encapsulation:2})};export{L as ManageCompanyComponent};
